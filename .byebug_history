continue
rails_blob_path(file_upload.file, disposition: "attachment")
file_uploads_url.file.service_url(disposition: 'attachment')
file_upload_url.file.service_url(disposition: 'attachment')
file_upload.file.service_url(disposition: 'attachment')
@find_file_by_token&.file&.attached?
@find_file_by_token
n
continue
n
@find_file_by_token&.file&.attached?
@file_upload
@file_upload&
@file_upload&.file
@file_upload&.file&.attached?
n
@find_file_by_token
n
continue
n
FileUpload.find_by_share_key(params[:share_key])
params[:share_key]
FileUpload.find_by_share_key(share_key: params[:share_key])
params
continue
n
continue
@file_upload.share_key.empty?
@file_upload.share_key
@file_upload.share_key.nil?
n
SecureRandom.urlsafe_base64(16)
@file_upload
current_user
params
continue
n
current_user
continue
n
current_user
continue
current_user
params
n
@current_user
curent_user
params
continue
n
current_user
